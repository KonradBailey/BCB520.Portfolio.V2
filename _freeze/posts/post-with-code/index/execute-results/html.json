{
  "hash": "2e5e999a6c566ba44e0fb1ee0fd1adcb",
  "result": {
    "markdown": "---\ntitle: \"Post With Code\"\nauthor: \"Konrad Bailey\"\ndate: \"Spring 2024\"\ncategories: [news, code, analysis]\nimage: \"image.jpg\"\n---\n\n\n## Development of Statistical Model:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.0\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(MASS)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'MASS'\n\nThe following object is masked from 'package:dplyr':\n\n    select\n```\n:::\n:::\n\n\n#### Importing Data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.data <- read.csv(\"~/Desktop/DougFir.data.csv\", skip=1)\n```\n:::\n\n\n#### Printing Dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(DougFir.data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n              SPM  MAR  DBH    HT       HDR\n1 Metasedimentary 12.3 35.5 28.24 0.7954930\n2       Intrusive 13.3 41.9 29.15 0.6957041\n3       Intrusive 13.3 49.4 30.89 0.6253036\n4       Intrusive 13.3 23.7 21.77 0.9185654\n5       Intrusive 13.3 44.9 30.77 0.6853007\n6       Intrusive 13.3 23.0  9.10 0.3956522\n```\n:::\n:::\n\n\n#### Dataset Type:\n\nThese data are presented in the form of a table.\n\n#### Data Types:\n\nMy independent variables are soil parent material (categorical) and mean annual radiation (continuous). The variables diameter breast height (continuous) and height (continuous) are used to derive my dependent variable, height diameter ratio (continuous).\n\n#### Generating Scatter Plot:\n\nNote: Requires data cleaning.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.plot <-ggplot(DougFir.data, aes(x= MAR, y=HDR, color=SPM)) + geom_point(size=3) +\n  ggtitle('Effect of Soil Parent Material and Mean Annual Radiation \nOn Douglas Fir Height/Diameter Ratio')\nDougFir.plot + scale_color_brewer(palette=\"Dark2\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 1 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nI don't like this plot. It's difficult to interpret the effect of mean annual radiation and the clustered nature of the data looks a tad weird.\n\n#### Generating Boxplot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.box <- ggplot(DougFir.data, aes(x = SPM, y = HDR, fill = SPM)) + \ngeom_boxplot(outlier.shape = NA) + \ntheme(legend.position=\"top\") +\n  ggtitle('Effect of Soil Parent Material and Mean Annual Radiation \nOn Douglas Fir Height/Diameter Ratio')\nDougFir.box + scale_color_brewer(palette=\"Dark2\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 1 rows containing non-finite values (`stat_boxplot()`).\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Task Abstraction:\n\n#### Action: Discover \n\n#### Target: Identify trends and features of the data\n\n## Future Objectives:\n\nI want to create a visualization that demonstrates the difference in HDR based on SPM. However, using the raw to generate a boxplot doesn't control for my covariate, so at best it merely provides the reader a preliminary gist of what's going on. The effect of soil parent material after controlling for mean annual radiation can't be assessed until after performing the ANCOVA. I'm considering creating a boxplot based on the predicted values of my regression model, which control for mean annual radiation, and displaying it side-by-side with the boxplot based on the raw data.\n\nDevelop a personalized template of aesthetic preferences for ggplot figures.\n\n## Continued Development of Statistical Model:\n\n#### Creating Linear Regression Model:\n\nNote: How does the creation of this linear model control for MAR? Because regression inherently controls for the effect of additional variables in the model when assessing the effect of a single variable, right?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.ANCOVA <- lm(HDR ~ MAR + SPM, data = DougFir.data)\n```\n:::\n\n\n#### Performing ANOVA:\n\nNote: Should I label this ANCOVA?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanova(DougFir.ANCOVA)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Variance Table\n\nResponse: HDR\n          Df  Sum Sq Mean Sq F value    Pr(>F)    \nMAR        1 0.00809 0.00809  0.3423    0.5602    \nSPM        2 0.67668 0.33834 14.3116 5.075e-06 ***\nResiduals 78 1.84398 0.02364                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\n#### Generating Residual-by-Predicted Plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(predict(DougFir.ANCOVA), rstandard(DougFir.ANCOVA),\n     main = 'Douglas Fir Residuals')\nabline(0,0)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nThe pattern in the residuals-by-predicted plot demonstrates a slight megaphone pattern, violating the assumption equal variance necessary for regression.\n\n#### Generating QQ Plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.QQ <- rstandard(DougFir.ANCOVA)\nqqnorm(DougFir.QQ,\n       ylab = 'Height/Diameter Ratio',\n       xlab = 'Normal Scores',\n       main = 'Douglas Fir QQ',)\nqqline(DougFir.QQ)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nThe QQ plot shows that my data decently conforms to a normal distribution.\n\n#### Performing Box-Cox Analysis:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxcox(HDR ~ MAR + SPM, data = DougFir.data, lambda = seq(-1.25, 1.25, length = 10))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n#### Performing Transformation on the Regression Model with Lambda set to 0.1:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.ANCOVA.02 <- lm(HDR^0.1 ~ MAR + SPM, data = DougFir.data)\n```\n:::\n\n\n#### Generating Residual-by-Predicted Plot After Performing Transformation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(predict(DougFir.ANCOVA.02), rstandard(DougFir.ANCOVA.02),\n     main = 'Douglas Fir Residuals with Lambda = 0.1')\nabline(0,0)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nThe pattern in the residuals-by-predicted plot, after performing the transformation with lambda = 0.1, demonstrates a more equal distribution of the residual errors, making this model a better fit.\n\n#### Generating QQ Plot After Performing Transformation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDougFir.QQ.02 <- rstandard(DougFir.ANCOVA.02)\nqqnorm(DougFir.QQ.02,\n       ylab = 'Height/Diameter Ratio',\n       xlab = 'Normal Scores',\n       main = 'Douglas Fir QQ with Lambda = 0.1',)\nqqline(DougFir.QQ.02)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nThe QQ plot shows that my data conform to a normal distribution.\n\n#### Performing ANOVA on the Transformed Model:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanova(DougFir.ANCOVA.02)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Variance Table\n\nResponse: HDR^0.1\n          Df   Sum Sq   Mean Sq F value    Pr(>F)    \nMAR        1 0.000122 0.0001223  0.2398    0.6257    \nSPM        2 0.014447 0.0072234 14.1647 5.652e-06 ***\nResiduals 78 0.039777 0.0005100                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\n#### Performing a Tukey's Honestly Significant Difference Test:\n\nNote: The next step is to perform a post-hoc test to determine which soil parent materials demonstrated significant differences in their effect on HDR.\n\n\n\n\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}